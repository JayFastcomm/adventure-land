window.bots=function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));const a=(t,e)=>100*t/e},,,function(t,e,r){"use strict";r.r(e),r.d(e,"Warrior",(function(){return n}));var a=r(0);class n{constructor(){this.parentCharacter=parent.character,this.hpPotion="hpot0",this.mpPotion="mpot0",this.potsMinimum=50,this.potsToBuy=1e3;const t=get_socket();this.socketListener(t),parent.$("head").append("<style>\n    #gamelog {\n      height: 50vh !important;\n    }\n    .gamentry {\n      font-size: 0.8em !important;\n      line-height: inherit !important;\n    }\n    \n    <style>")}mainLoop(){this.mainInterval=setInterval(()=>{this.parentCharacter.rip&&(this.logger("You DIED!, clearing mailLoop interval: "+new Date,"high"),clearInterval(this.mainInterval)),Object(a.a)(this.parentCharacter.mp,this.parentCharacter.max_mp)<=50&&this.manaCooldown(),loot(),this.isParty=!!this.parentCharacter.party,this.restoration(),this.getTargeting(),this.move(),this.attack()},Math.max(250,this.parentCharacter.ping))}purchasePotions(){try{if(this.parentCharacter.items.length&&this.parentCharacter.gold&&this.parentCharacter.gold>1e4){this.logger("looking for hpPotion in inventory");const t=this.parentCharacter.items.find(t=>t.name==this.hpPotion);this.logger("looking for mpPotion in inventory");const e=this.parentCharacter.items.find(t=>t.name==this.mpPotion);t&&t.q<this.potsMinimum?(buy(this.hpPotion,this.potsToBuy),this.logger("buying hp potions")):this.logger("enough hp potion"),e&&e.q<this.potsMinimum?(buy(this.mpPotion,this.potsToBuy),this.logger("buying mp potions")):this.logger("enough mp potions")}else this.logger("Not enough cash")}catch{this.logger("purchase pots fucked out")}}getTargeting(){try{this.isParty?(this.logger("is party looking for leader: "+this.parentCharacter.party),this.leader=get_player(this.parentCharacter.party),this.parentCharacter.party==this.parentCharacter.name?(this.logger("is leader - targetting"),this.currentTarget=get_nearest_monster({})):(this.logger("not leader, attacking leader target"),this.currentTarget=get_target_of(this.leader))):(this.logger("not party"),this.currentTarget=get_nearest_monster({}))}catch{this.logger("get targetting fucked out")}}attack(){this.currentTarget&&(is_in_range(this.currentTarget,"attack")?(set_message("attacking"),is_on_cooldown("attack")||attack(this.currentTarget).then(t=>{this.logger("ping after attack callback: "+this.parentCharacter.ping),reduce_cooldown("attack",.95*this.parentCharacter.ping)})):this.manaCooldownTimeout||is_on_cooldown("charge")||use_skill("charge",this.currentTarget))}move(){(!this.lastMoveStamp||(new Date).getTime()-this.lastMoveStamp.getTime()>250)&&(this.parentCharacter.moving||!this.leader||this.leader.name===this.parentCharacter.name||is_in_range(this.leader,"attack")?this.leader||!this.currentTarget||this.parentCharacter.moving||is_in_range(this.currentTarget,"attack")||(set_message("moving"),xmove(this.currentTarget.real_x,this.currentTarget.real_y),this.lastMoveStamp=new Date):(set_message("moving"),xmove(this.leader.real_x,this.leader.real_y),this.lastMoveStamp=new Date))}socketListener(t){t?(t.on("drop",t=>{this.logger("socket drop")}),t.on("incoming",t=>{this.logger("incoming!")})):set_message("socket disconnected")}restoration(){this.manaCooldownTimeout||(can_use("regen_hp")&&(!is_on_cooldown("regen_hp")&&use_skill("regen_hp")),can_use("regen_mp")&&(!is_on_cooldown("regen_mp")&&use_skill("regen_mp")));try{Object(a.a)(this.parentCharacter.hp,this.parentCharacter.max_hp)<85&&(this.logger("hp % "+Object(a.a)(this.parentCharacter.hp,this.parentCharacter.max_hp)),(!this.lastHpStamp||(new Date).getTime()-this.lastHpStamp.getTime()>5e3)&&(is_on_cooldown("use_hp")||(set_message("restoringHP"),use("use_hp")))),Object(a.a)(this.parentCharacter.mp,this.parentCharacter.max_mp)<85&&(this.logger("mp % "+Object(a.a)(this.parentCharacter.mp,this.parentCharacter.max_mp)),(!this.lastMpStamp||(new Date).getTime()-this.lastMpStamp.getTime()>5e3)&&(is_on_cooldown("use_mp")||(set_message("restoringMP"),use("use_mp"))))}catch{this.logger("something here fucked up")}}manaCooldown(){this.manaCooldownTimeout=!0,setTimeout(()=>{this.manaCooldownTimeout=!1},1e4)}logger(t,e){if("high"==e)return game_log(t);this.debugMode&&game_log(t)}}(new n).mainLoop()}]);