{"code":"window.bots=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=6)}({4:function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return n}));const n=(t,e)=>100*t/e},6:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"Paladin\",(function(){return a}));var n=r(4);class a{constructor(){this.parentCharacter=parent.character,this.hpPotion=\"hpot0\",this.mpPotion=\"mpot0\",this.potsMinimum=50,this.potsToBuy=1e3;const t=get_socket();this.socketListener(t)}mainLoop(){game_log(\"main Loop init\"),setInterval(()=>{this.isParty=!!this.parentCharacter.party,this.restoration(),this.purchasePotions(),this.getTargeting(),this.move(),this.attack()},Math.max(5e3,this.parentCharacter.ping))}purchasePotions(){if(this.parentCharacter.items.length&&this.parentCharacter.gold&&this.parentCharacter.gold>1e4){game_log(\"looking for hpPotion in inventory\");const t=this.parentCharacter.items.find(t=>t.name==this.hpPotion);game_log(\"looking for mpPotion in inventory\");const e=this.parentCharacter.items.find(t=>t.name==this.mpPotion);t&&t.q<this.potsMinimum&&(buy(this.hpPotion,this.potsToBuy),set_message(\"Buying hp pots.\")),e&&e.q<this.potsMinimum&&(buy(this.mpPotion,this.potsToBuy),set_message(\"Buying mp pots.\"))}else set_message(\"Not enough cash\")}getTargeting(){this.isParty?(this.leader=get_player(this.parentCharacter.party),this.currentTarget=get_target_of(this.leader)):this.currentTarget=get_nearest_monster({})}attack(){attack(this.currentTarget)}move(){!this.parentCharacter.moving&&this.leader&&xmove(this.leader.real_x,this.leader.real_y)}socketListener(t){t.disconnected?set_message(\"socket disconnected\"):(t.on(\"drop\",t=>{distance(this.parentCharacter,t)>800||parent.socket.emit(\"open_chest\",{id:t.id})}),t.on(\"incoming\",t=>{const e=this.parentCharacter[t.actor];e.eta<=50&&can_attack(e)&&attack(e)}))}restoration(){Object(n.a)(this.parentCharacter.hp,this.parentCharacter.max_hp)<50&&((!this.lastHpStamp||this.lastHpStamp.getTime()-(new Date).getTime()>5e3)&&use(\"use_hp\"),set_message(\"Drinking HP\")),Object(n.a)(this.parentCharacter.mp,this.parentCharacter.max_mp)<50&&(!this.lastMpStamp||this.lastMpStamp.getTime()-(new Date).getTime()>5e3)&&(use(\"use_mp\"),set_message(\"Drinking MP\"))}}(new a).mainLoop()}});","extractedComments":[]}