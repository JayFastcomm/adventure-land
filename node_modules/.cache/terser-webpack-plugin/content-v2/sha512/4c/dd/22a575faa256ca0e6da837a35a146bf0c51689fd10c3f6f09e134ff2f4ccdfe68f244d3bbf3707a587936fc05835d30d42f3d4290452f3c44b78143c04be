{"code":"window.bots=function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=6)}({4:function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return a}));const a=(t,e)=>100*t/e},6:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"Paladin\",(function(){return n}));var a=r(4);class n{constructor(){this.parentCharacter=parent.character,this.hpPotion=\"hpot0\",this.mpPotion=\"mpot0\",this.potsMinimum=50,this.potsToBuy=1e3;const t=get_socket();this.socketListener(t)}mainLoop(){game_log(\"main Loop init\"),setInterval(()=>{this.isParty=!!this.parentCharacter.party,this.restoration(),this.purchasePotions(),this.getTargeting(),this.attackLoop()},Math.max(5e3,this.parentCharacter.ping))}purchasePotions(){if(this.parentCharacter.items.length&&this.parentCharacter.gold&&this.parentCharacter.gold>1e4){game_log(\"looking for hpPotion in inventory\");const t=this.parentCharacter.items.find(t=>t.name==this.hpPotion);game_log(\"looking for mpPotion in inventory\");const e=this.parentCharacter.items.find(t=>t.name==this.mpPotion);t&&t.q<this.potsMinimum&&(buy(this.hpPotion,this.potsToBuy),set_message(\"Buying hp pots.\")),e&&e.q<this.potsMinimum&&(buy(this.mpPotion,this.potsToBuy),set_message(\"Buying mp pots.\"))}else set_message(\"Not enough cash\")}getTargeting(){this.leader=this.isParty?get_player(this.parentCharacter.party):null,this.target=this.isParty?get_target_of(this.leader):get_nearest_monster({}),this.currentTarget=get_targeted_monster()}attackLoop(){this.currentTarget&&this.currentTarget==this.leaderTarget||(change_target(this.leaderTarget),this.currentTarget=get_targeted_monster()),!this.leader&&this.currentTarget&&can_attack(this.currentTarget)&&attack(this.currentTarget),!this.parentCharacter.moving&&this.leader&&xmove(this.leader.real_x,this.leader.real_y)}socketListener(t){t.disconnected?set_message(\"socket disconnected\"):(t.on(\"drop\",t=>{distance(this.parentCharacter,t)>800||parent.socket.emit(\"open_chest\",{id:t.id})}),t.on(\"incoming\",t=>{const e=this.parentCharacter[t.actor];e.eta<=50&&can_attack(e)&&attack(e)}))}restoration(){Object(a.a)(this.parentCharacter.hp,this.parentCharacter.max_hp)<50&&((!this.lastHpStamp||this.lastHpStamp.getTime()-(new Date).getTime()>5e3)&&use(\"use_hp\"),set_message(\"Drinking HP\")),Object(a.a)(this.parentCharacter.mp,this.parentCharacter.max_mp)<50&&(!this.lastMpStamp||this.lastMpStamp.getTime()-(new Date).getTime()>5e3)&&(use(\"use_mp\"),set_message(\"Drinking MP\"))}}(new n).mainLoop()}});","extractedComments":[]}